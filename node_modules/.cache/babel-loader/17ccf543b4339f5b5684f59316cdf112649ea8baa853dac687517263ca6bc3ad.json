{"ast":null,"code":"import React,{useState}from'react';import{useNavigate}from'react-router-dom';import{useTheme}from'../context/ThemeContext';import{IconBack}from'../components/Icons';import{createChat,addOrUpdateChat}from'../lib/chatStorage';import{apiCreateChat}from'../lib/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function GroupCreatePage(){const navigate=useNavigate();const{theme}=useTheme();const[name,setName]=useState('');const handleCreate=async()=>{if(!name.trim())return;const created=await apiCreateChat({name:name.trim(),type:'group'});let id;if(created!==null&&created!==void 0&&created.id){id=created.id;addOrUpdateChat({id:created.id,name:created.name||name.trim(),type:'group',lastMessage:'',lastTime:null,unread:0});}else{id=createChat({name:name.trim(),type:'group'});}navigate('/messenger',{state:{openChatId:id}});};const base={page:{minHeight:'100%',background:theme.pageBg,color:theme.text},header:{height:56,padding:'0 8px',display:'flex',alignItems:'center',gap:8,borderBottom:\"1px solid \".concat(theme.border),background:theme.headerBg},backBtn:{border:'none',background:'transparent',color:theme.accent,padding:8,cursor:'pointer'},title:{flex:1,fontSize:17,fontWeight:600},content:{padding:16},label:{fontSize:14,color:theme.textMuted,marginBottom:8,display:'block'},input:{width:'100%',padding:'12px 14px',borderRadius:8,border:\"1px solid \".concat(theme.border),background:theme.inputBg,color:theme.text,fontSize:16,outline:'none'},btn:{marginTop:24,padding:'12px 24px',borderRadius:8,border:'none',background:theme.accent,color:theme.accentText,fontSize:16,cursor:'pointer'}};return/*#__PURE__*/_jsxs(\"div\",{style:base.page,children:[/*#__PURE__*/_jsxs(\"header\",{style:base.header,children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",style:base.backBtn,onClick:()=>navigate('/messenger'),children:/*#__PURE__*/_jsx(IconBack,{width:24,height:24})}),/*#__PURE__*/_jsx(\"span\",{style:base.title,children:\"\\u041D\\u043E\\u0432\\u0430\\u044F \\u0433\\u0440\\u0443\\u043F\\u043F\\u0430\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:base.content,children:[/*#__PURE__*/_jsx(\"label\",{style:base.label,children:\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u0433\\u0440\\u0443\\u043F\\u043F\\u044B\"}),/*#__PURE__*/_jsx(\"input\",{style:base.input,value:name,onChange:e=>setName(e.target.value),placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",style:base.btn,onClick:handleCreate,children:\"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C\"})]})]});}","map":{"version":3,"names":["React","useState","useNavigate","useTheme","IconBack","createChat","addOrUpdateChat","apiCreateChat","jsx","_jsx","jsxs","_jsxs","GroupCreatePage","navigate","theme","name","setName","handleCreate","trim","created","type","id","lastMessage","lastTime","unread","state","openChatId","base","page","minHeight","background","pageBg","color","text","header","height","padding","display","alignItems","gap","borderBottom","concat","border","headerBg","backBtn","accent","cursor","title","flex","fontSize","fontWeight","content","label","textMuted","marginBottom","input","width","borderRadius","inputBg","outline","btn","marginTop","accentText","style","children","onClick","value","onChange","e","target","placeholder"],"sources":["C:/Users/Vladislav/Documents/GitHub/aist-messenger/src/pages/GroupCreatePage.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useTheme } from '../context/ThemeContext';\r\nimport { IconBack } from '../components/Icons';\r\nimport { createChat, addOrUpdateChat } from '../lib/chatStorage';\r\nimport { apiCreateChat } from '../lib/api';\r\n\r\nexport default function GroupCreatePage() {\r\n  const navigate = useNavigate();\r\n  const { theme } = useTheme();\r\n  const [name, setName] = useState('');\r\n\r\n  const handleCreate = async () => {\r\n    if (!name.trim()) return;\r\n    const created = await apiCreateChat({ name: name.trim(), type: 'group' });\r\n    let id;\r\n    if (created?.id) {\r\n      id = created.id;\r\n      addOrUpdateChat({ id: created.id, name: created.name || name.trim(), type: 'group', lastMessage: '', lastTime: null, unread: 0 });\r\n    } else {\r\n      id = createChat({ name: name.trim(), type: 'group' });\r\n    }\r\n    navigate('/messenger', { state: { openChatId: id } });\r\n  };\r\n\r\n  const base = {\r\n    page: { minHeight: '100%', background: theme.pageBg, color: theme.text },\r\n    header: { height: 56, padding: '0 8px', display: 'flex', alignItems: 'center', gap: 8, borderBottom: `1px solid ${theme.border}`, background: theme.headerBg },\r\n    backBtn: { border: 'none', background: 'transparent', color: theme.accent, padding: 8, cursor: 'pointer' },\r\n    title: { flex: 1, fontSize: 17, fontWeight: 600 },\r\n    content: { padding: 16 },\r\n    label: { fontSize: 14, color: theme.textMuted, marginBottom: 8, display: 'block' },\r\n    input: { width: '100%', padding: '12px 14px', borderRadius: 8, border: `1px solid ${theme.border}`, background: theme.inputBg, color: theme.text, fontSize: 16, outline: 'none' },\r\n    btn: { marginTop: 24, padding: '12px 24px', borderRadius: 8, border: 'none', background: theme.accent, color: theme.accentText, fontSize: 16, cursor: 'pointer' },\r\n  };\r\n\r\n  return (\r\n    <div style={base.page}>\r\n      <header style={base.header}>\r\n        <button type=\"button\" style={base.backBtn} onClick={() => navigate('/messenger')}>\r\n          <IconBack width={24} height={24} />\r\n        </button>\r\n        <span style={base.title}>Новая группа</span>\r\n      </header>\r\n      <div style={base.content}>\r\n        <label style={base.label}>Название группы</label>\r\n        <input style={base.input} value={name} onChange={(e) => setName(e.target.value)} placeholder=\"Введите название\" />\r\n        <button type=\"button\" style={base.btn} onClick={handleCreate}>Создать</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}