{"ast":null,"code":"import _objectSpread from\"C:/Users/Vladislav/Documents/GitHub/aist-messenger/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";/**\r\n * PWA-уведомления. Запрос разрешения и показ уведомлений (в т.ч. для iOS).\r\n * Для полноценного push с сервера нужна подписка на push и бэкенд.\r\n */export async function requestNotificationPermission(){if(!('Notification'in window))return'unsupported';if(Notification.permission==='granted')return'granted';if(Notification.permission==='denied')return'denied';const permission=await Notification.requestPermission();return permission;}export function showLocalNotification(title){let options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(!('Notification'in window)||Notification.permission!=='granted')return;try{const n=new Notification(title,_objectSpread({icon:'/icon-192.png',badge:'/icon-192.png'},options));n.onclick=()=>{window.focus();n.close();};}catch(e){console.warn('Notification failed',e);}}","map":{"version":3,"names":["requestNotificationPermission","window","Notification","permission","requestPermission","showLocalNotification","title","options","arguments","length","undefined","n","_objectSpread","icon","badge","onclick","focus","close","e","console","warn"],"sources":["C:/Users/Vladislav/Documents/GitHub/aist-messenger/src/lib/notifications.js"],"sourcesContent":["/**\r\n * PWA-уведомления. Запрос разрешения и показ уведомлений (в т.ч. для iOS).\r\n * Для полноценного push с сервера нужна подписка на push и бэкенд.\r\n */\r\n\r\nexport async function requestNotificationPermission() {\r\n  if (!('Notification' in window)) return 'unsupported';\r\n  if (Notification.permission === 'granted') return 'granted';\r\n  if (Notification.permission === 'denied') return 'denied';\r\n  const permission = await Notification.requestPermission();\r\n  return permission;\r\n}\r\n\r\nexport function showLocalNotification(title, options = {}) {\r\n  if (!('Notification' in window) || Notification.permission !== 'granted') return;\r\n  try {\r\n    const n = new Notification(title, {\r\n      icon: '/icon-192.png',\r\n      badge: '/icon-192.png',\r\n      ...options,\r\n    });\r\n    n.onclick = () => {\r\n      window.focus();\r\n      n.close();\r\n    };\r\n  } catch (e) {\r\n    console.warn('Notification failed', e);\r\n  }\r\n}\r\n"],"mappings":"uIAAA;AACA;AACA;AACA,GAEA,MAAO,eAAe,CAAAA,6BAA6BA,CAAA,CAAG,CACpD,GAAI,EAAE,cAAc,EAAI,CAAAC,MAAM,CAAC,CAAE,MAAO,aAAa,CACrD,GAAIC,YAAY,CAACC,UAAU,GAAK,SAAS,CAAE,MAAO,SAAS,CAC3D,GAAID,YAAY,CAACC,UAAU,GAAK,QAAQ,CAAE,MAAO,QAAQ,CACzD,KAAM,CAAAA,UAAU,CAAG,KAAM,CAAAD,YAAY,CAACE,iBAAiB,CAAC,CAAC,CACzD,MAAO,CAAAD,UAAU,CACnB,CAEA,MAAO,SAAS,CAAAE,qBAAqBA,CAACC,KAAK,CAAgB,IAAd,CAAAC,OAAO,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,CAAC,CAAC,CACvD,GAAI,EAAE,cAAc,EAAI,CAAAP,MAAM,CAAC,EAAIC,YAAY,CAACC,UAAU,GAAK,SAAS,CAAE,OAC1E,GAAI,CACF,KAAM,CAAAQ,CAAC,CAAG,GAAI,CAAAT,YAAY,CAACI,KAAK,CAAAM,aAAA,EAC9BC,IAAI,CAAE,eAAe,CACrBC,KAAK,CAAE,eAAe,EACnBP,OAAO,CACX,CAAC,CACFI,CAAC,CAACI,OAAO,CAAG,IAAM,CAChBd,MAAM,CAACe,KAAK,CAAC,CAAC,CACdL,CAAC,CAACM,KAAK,CAAC,CAAC,CACX,CAAC,CACH,CAAE,MAAOC,CAAC,CAAE,CACVC,OAAO,CAACC,IAAI,CAAC,qBAAqB,CAAEF,CAAC,CAAC,CACxC,CACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}