{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Vladislav\\\\Documents\\\\GitHub\\\\aist-messenger\\\\src\\\\pages\\\\GroupCreatePage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useTheme } from '../context/ThemeContext';\nimport { IconBack } from '../components/Icons';\nimport { createChat, addOrUpdateChat } from '../lib/chatStorage';\nimport { apiCreateChat } from '../lib/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function GroupCreatePage() {\n  _s();\n  const navigate = useNavigate();\n  const {\n    theme\n  } = useTheme();\n  const [name, setName] = useState('');\n  const handleCreate = async () => {\n    if (!name.trim()) return;\n    const created = await apiCreateChat({\n      name: name.trim(),\n      type: 'group'\n    });\n    let id;\n    if (created !== null && created !== void 0 && created.id) {\n      id = created.id;\n      addOrUpdateChat({\n        id: created.id,\n        name: created.name || name.trim(),\n        type: 'group',\n        lastMessage: '',\n        lastTime: null,\n        unread: 0\n      });\n    } else {\n      id = createChat({\n        name: name.trim(),\n        type: 'group'\n      });\n    }\n    navigate('/messenger', {\n      state: {\n        openChatId: id\n      }\n    });\n  };\n  const base = {\n    page: {\n      minHeight: '100%',\n      background: theme.pageBg,\n      color: theme.text\n    },\n    header: {\n      height: 56,\n      padding: '0 8px',\n      display: 'flex',\n      alignItems: 'center',\n      gap: 8,\n      borderBottom: `1px solid ${theme.border}`,\n      background: theme.headerBg\n    },\n    backBtn: {\n      border: 'none',\n      background: 'transparent',\n      color: theme.accent,\n      padding: 8,\n      cursor: 'pointer'\n    },\n    title: {\n      flex: 1,\n      fontSize: 17,\n      fontWeight: 600\n    },\n    content: {\n      padding: 16\n    },\n    label: {\n      fontSize: 14,\n      color: theme.textMuted,\n      marginBottom: 8,\n      display: 'block'\n    },\n    input: {\n      width: '100%',\n      padding: '12px 14px',\n      borderRadius: 8,\n      border: `1px solid ${theme.border}`,\n      background: theme.inputBg,\n      color: theme.text,\n      fontSize: 16,\n      outline: 'none'\n    },\n    btn: {\n      marginTop: 24,\n      padding: '12px 24px',\n      borderRadius: 8,\n      border: 'none',\n      background: theme.accent,\n      color: theme.accentText,\n      fontSize: 16,\n      cursor: 'pointer'\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: base.page,\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      style: base.header,\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        style: base.backBtn,\n        onClick: () => navigate('/messenger'),\n        children: /*#__PURE__*/_jsxDEV(IconBack, {\n          width: 24,\n          height: 24\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        style: base.title,\n        children: \"\\u041D\\u043E\\u0432\\u0430\\u044F \\u0433\\u0440\\u0443\\u043F\\u043F\\u0430\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: base.content,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        style: base.label,\n        children: \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u0433\\u0440\\u0443\\u043F\\u043F\\u044B\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        style: base.input,\n        value: name,\n        onChange: e => setName(e.target.value),\n        placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        style: base.btn,\n        onClick: handleCreate,\n        children: \"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n}\n_s(GroupCreatePage, \"k7pVrE42pFZsr+4b6CQnnHtWjE8=\", false, function () {\n  return [useNavigate, useTheme];\n});\n_c = GroupCreatePage;\nvar _c;\n$RefreshReg$(_c, \"GroupCreatePage\");","map":{"version":3,"names":["React","useState","useNavigate","useTheme","IconBack","createChat","addOrUpdateChat","apiCreateChat","jsxDEV","_jsxDEV","GroupCreatePage","_s","navigate","theme","name","setName","handleCreate","trim","created","type","id","lastMessage","lastTime","unread","state","openChatId","base","page","minHeight","background","pageBg","color","text","header","height","padding","display","alignItems","gap","borderBottom","border","headerBg","backBtn","accent","cursor","title","flex","fontSize","fontWeight","content","label","textMuted","marginBottom","input","width","borderRadius","inputBg","outline","btn","marginTop","accentText","style","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","e","target","placeholder","_c","$RefreshReg$"],"sources":["C:/Users/Vladislav/Documents/GitHub/aist-messenger/src/pages/GroupCreatePage.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { useTheme } from '../context/ThemeContext';\r\nimport { IconBack } from '../components/Icons';\r\nimport { createChat, addOrUpdateChat } from '../lib/chatStorage';\r\nimport { apiCreateChat } from '../lib/api';\r\n\r\nexport default function GroupCreatePage() {\r\n  const navigate = useNavigate();\r\n  const { theme } = useTheme();\r\n  const [name, setName] = useState('');\r\n\r\n  const handleCreate = async () => {\r\n    if (!name.trim()) return;\r\n    const created = await apiCreateChat({ name: name.trim(), type: 'group' });\r\n    let id;\r\n    if (created?.id) {\r\n      id = created.id;\r\n      addOrUpdateChat({ id: created.id, name: created.name || name.trim(), type: 'group', lastMessage: '', lastTime: null, unread: 0 });\r\n    } else {\r\n      id = createChat({ name: name.trim(), type: 'group' });\r\n    }\r\n    navigate('/messenger', { state: { openChatId: id } });\r\n  };\r\n\r\n  const base = {\r\n    page: { minHeight: '100%', background: theme.pageBg, color: theme.text },\r\n    header: { height: 56, padding: '0 8px', display: 'flex', alignItems: 'center', gap: 8, borderBottom: `1px solid ${theme.border}`, background: theme.headerBg },\r\n    backBtn: { border: 'none', background: 'transparent', color: theme.accent, padding: 8, cursor: 'pointer' },\r\n    title: { flex: 1, fontSize: 17, fontWeight: 600 },\r\n    content: { padding: 16 },\r\n    label: { fontSize: 14, color: theme.textMuted, marginBottom: 8, display: 'block' },\r\n    input: { width: '100%', padding: '12px 14px', borderRadius: 8, border: `1px solid ${theme.border}`, background: theme.inputBg, color: theme.text, fontSize: 16, outline: 'none' },\r\n    btn: { marginTop: 24, padding: '12px 24px', borderRadius: 8, border: 'none', background: theme.accent, color: theme.accentText, fontSize: 16, cursor: 'pointer' },\r\n  };\r\n\r\n  return (\r\n    <div style={base.page}>\r\n      <header style={base.header}>\r\n        <button type=\"button\" style={base.backBtn} onClick={() => navigate('/messenger')}>\r\n          <IconBack width={24} height={24} />\r\n        </button>\r\n        <span style={base.title}>Новая группа</span>\r\n      </header>\r\n      <div style={base.content}>\r\n        <label style={base.label}>Название группы</label>\r\n        <input style={base.input} value={name} onChange={(e) => setName(e.target.value)} placeholder=\"Введите название\" />\r\n        <button type=\"button\" style={base.btn} onClick={handleCreate}>Создать</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}