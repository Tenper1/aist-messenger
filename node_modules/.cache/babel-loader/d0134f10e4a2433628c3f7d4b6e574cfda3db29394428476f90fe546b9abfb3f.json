{"ast":null,"code":"import _objectSpread from\"C:/Users/Vladislav/Documents/GitHub/aist-messenger/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useMemo,useState,useCallback}from'react';import{QRCodeSVG}from'qrcode.react';import{useTheme}from'../context/ThemeContext';import{useUser}from'../context/UserContext';import{requestNotificationPermission}from'../lib/notifications';import{getFolders,addFolder,updateFolder,deleteFolder}from'../lib/folderStorage';import{IconBack,IconChevronRight,IconCamera,IconLock}from'./Icons';import E2ESetup from'./E2ESetup';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const SECTIONS=[{id:'notifications',title:'Уведомления'},{id:'privacy',title:'Конфиденциальность'},{id:'e2e',title:'Шифрование (E2E)',icon:IconLock},{id:'appearance',title:'Внешний вид'},{id:'folders',title:'Папки чатов'},{id:'qr',title:'QR-код'}];const APP_DOMAIN='https://aist-messenger.vercel.app';function FoldersView(_ref){let{theme,base,onBack}=_ref;const[folders,setFolders]=useState(getFolders());const[editingId,setEditingId]=useState(null);const[editName,setEditName]=useState('');const refresh=useCallback(()=>setFolders(getFolders()),[]);const handleAdd=()=>{const name=window.prompt('Название папки');if(name!==null&&name!==void 0&&name.trim()){addFolder(name.trim());refresh();}};const handleRename=id=>{const f=folders.find(x=>x.id===id);if(!f)return;setEditingId(id);setEditName(f.name);};const submitRename=()=>{if(editingId&&editName.trim()){updateFolder(editingId,{name:editName.trim()});refresh();}setEditingId(null);setEditName('');};const handleDelete=id=>{if(window.confirm('Удалить папку? Чаты из неё не удалятся.')){deleteFolder(id);refresh();}};return/*#__PURE__*/_jsxs(\"div\",{style:{padding:16},children:[/*#__PURE__*/_jsx(\"div\",{style:base.sectionTitle,children:\"\\u041F\\u0430\\u043F\\u043A\\u0438 \\u0434\\u043B\\u044F \\u0441\\u043E\\u0440\\u0442\\u0438\\u0440\\u043E\\u0432\\u043A\\u0438 \\u0447\\u0430\\u0442\\u043E\\u0432\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:14,color:theme.textMuted,padding:'0 16px 12px'},children:\"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0439\\u0442\\u0435 \\u043F\\u0430\\u043F\\u043A\\u0438 \\u0438 \\u0434\\u043E\\u0431\\u0430\\u0432\\u043B\\u044F\\u0439\\u0442\\u0435 \\u0447\\u0430\\u0442\\u044B \\u0432 \\u043D\\u0438\\u0445 \\u043A\\u043D\\u043E\\u043F\\u043A\\u043E\\u0439 \\u22EF \\u0432 \\u0441\\u043F\\u0438\\u0441\\u043A\\u0435 \\u0447\\u0430\\u0442\\u043E\\u0432.\"}),folders.map(f=>/*#__PURE__*/_jsx(\"div\",{style:_objectSpread(_objectSpread({},base.row),{},{flexWrap:'wrap',gap:8}),children:editingId===f.id?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{value:editName,onChange:e=>setEditName(e.target.value),onBlur:submitRename,onKeyDown:e=>e.key==='Enter'&&submitRename(),autoFocus:true,style:{flex:1,minWidth:120,padding:'8px 12px',borderRadius:8,border:\"1px solid \".concat(theme.border),background:theme.inputBg,color:theme.text,fontSize:15,outline:'none'}}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",style:{padding:'6px 12px',borderRadius:8,border:'none',background:theme.accent,color:theme.accentText||'#fff',cursor:'pointer'},onClick:submitRename,children:\"\\u0413\\u043E\\u0442\\u043E\\u0432\\u043E\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{style:base.rowLabel,children:f.name}),/*#__PURE__*/_jsxs(\"span\",{style:{fontSize:13,color:theme.textMuted},children:[(f.chatIds||[]).length,\" \\u0447\\u0430\\u0442\\u043E\\u0432\"]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",style:{padding:6,border:'none',background:'transparent',color:theme.accent,cursor:'pointer',fontSize:13},onClick:()=>handleRename(f.id),children:\"\\u041F\\u0435\\u0440\\u0435\\u0438\\u043C\\u0435\\u043D\\u043E\\u0432\\u0430\\u0442\\u044C\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",style:{padding:6,border:'none',background:'transparent',color:'#e53935',cursor:'pointer',fontSize:13},onClick:()=>handleDelete(f.id),children:\"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"})]})},f.id)),/*#__PURE__*/_jsx(\"button\",{type:\"button\",style:{marginTop:12,padding:'12px 16px',borderRadius:12,border:\"2px dashed \".concat(theme.border),background:'transparent',color:theme.accent,fontSize:15,fontWeight:500,cursor:'pointer',width:'100%'},onClick:handleAdd,children:\"+ \\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C \\u043F\\u0430\\u043F\\u043A\\u0443\"})]});}export default function Settings(){const{theme,themeId,setThemeId,themeList,chatBg,setChatBg,chatBgPresets}=useTheme();const{displayName,username,usernameFormatted,usernameError,setDisplayName,setUsername,setProfilePhoto,profilePhoto}=useUser();const[view,setView]=useState('main');const[notifications,setNotifications]=useState(()=>localStorage.getItem('aist_notifications')!=='false');const[privacyWrite,setPrivacyWrite]=useState('everyone');const[privacyStatus,setPrivacyStatus]=useState('everyone');const[privacyStories,setPrivacyStories]=useState('contacts');const[customChatBg,setCustomChatBg]=useState('');const saveNotifications=async v=>{if(v){const perm=await requestNotificationPermission();if(perm!=='granted')v=false;}setNotifications(v);try{localStorage.setItem('aist_notifications',v?'true':'false');}catch(_unused){}};const onPhotoChange=e=>{var _e$target$files;const f=(_e$target$files=e.target.files)===null||_e$target$files===void 0?void 0:_e$target$files[0];if(!(f!==null&&f!==void 0&&f.type.startsWith('image/')))return;const r=new FileReader();r.onload=()=>setProfilePhoto(r.result);r.readAsDataURL(f);};const base={container:{height:'100%',overflowY:'auto',background:theme.pageBg,color:theme.text},header:{height:56,padding:'0 8px',display:'flex',alignItems:'center',gap:8,borderBottom:\"1px solid \".concat(theme.border),background:theme.headerBg},backBtn:{border:'none',background:'transparent',color:theme.accent,padding:8,cursor:'pointer'},headerTitle:{flex:1,fontSize:17,fontWeight:600,letterSpacing:-0.2},profileCard:{padding:28,display:'flex',flexDirection:'column',alignItems:'center',gap:18,borderBottom:\"1px solid \".concat(theme.border)},avatarWrap:{width:96,height:96,borderRadius:'50%',overflow:'hidden',background:theme.sidebarBg||'rgba(0,0,0,.06)',position:'relative',cursor:'pointer'},avatarImg:{width:'100%',height:'100%',objectFit:'cover'},avatarPlaceholder:{width:'100%',height:'100%',display:'flex',alignItems:'center',justifyContent:'center',color:theme.textMuted},nameInput:{padding:'10px 14px',borderRadius:8,border:\"1px solid \".concat(theme.border),background:theme.inputBg,color:theme.text,fontSize:16,width:'100%',maxWidth:280,outline:'none',textAlign:'center'},usernameInput:{padding:'10px 14px',borderRadius:8,border:\"1px solid \".concat(theme.border),background:theme.inputBg,color:theme.text,fontSize:15,width:'100%',maxWidth:280,outline:'none',textAlign:'center'},row:{display:'flex',alignItems:'center',justifyContent:'space-between',padding:'14px 16px',borderBottom:\"1px solid \".concat(theme.border),background:theme.cardBg,cursor:'pointer'},rowLabel:{fontSize:16,color:theme.text},rowSub:{fontSize:14,color:theme.textMuted,marginTop:2},toggle:{width:50,height:28,borderRadius:14,background:notifications?theme.accent:theme.sidebarBg,position:'relative',cursor:'pointer',flexShrink:0},toggleThumb:{width:24,height:24,borderRadius:'50%',background:'#fff',position:'absolute',top:2,left:notifications?24:2,transition:'left 0.15s',boxShadow:'0 1px 3px rgba(0,0,0,.2)'},sectionTitle:{padding:'14px 16px 6px',fontSize:13,color:theme.textMuted,textTransform:'uppercase',letterSpacing:0.5,fontWeight:600},logoutRow:{padding:14,borderBottom:\"1px solid \".concat(theme.border),background:theme.cardBg,cursor:'pointer'},logoutText:{fontSize:16,color:'#e53935',fontWeight:500}};if(view!=='main'){var _SECTIONS$find;return/*#__PURE__*/_jsxs(\"div\",{style:base.container,children:[/*#__PURE__*/_jsxs(\"header\",{style:base.header,children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",style:base.backBtn,onClick:()=>setView('main'),children:/*#__PURE__*/_jsx(IconBack,{width:24,height:24})}),/*#__PURE__*/_jsx(\"span\",{style:base.headerTitle,children:((_SECTIONS$find=SECTIONS.find(s=>s.id===view))===null||_SECTIONS$find===void 0?void 0:_SECTIONS$find.title)||view})]}),view==='notifications'&&/*#__PURE__*/_jsx(\"div\",{style:{padding:16},children:/*#__PURE__*/_jsxs(\"div\",{style:base.row,children:[/*#__PURE__*/_jsx(\"span\",{style:base.rowLabel,children:\"\\u0423\\u0432\\u0435\\u0434\\u043E\\u043C\\u043B\\u0435\\u043D\\u0438\\u044F\"}),/*#__PURE__*/_jsx(\"div\",{style:base.toggle,onClick:()=>saveNotifications(!notifications),children:/*#__PURE__*/_jsx(\"div\",{style:base.toggleThumb})})]})}),view==='privacy'&&/*#__PURE__*/_jsxs(\"div\",{style:{padding:16},children:[/*#__PURE__*/_jsxs(\"div\",{style:base.row,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{style:base.rowLabel,children:\"\\u041A\\u0442\\u043E \\u043C\\u043E\\u0436\\u0435\\u0442 \\u043F\\u0438\\u0441\\u0430\\u0442\\u044C\"}),/*#__PURE__*/_jsx(\"div\",{style:base.rowSub,children:privacyWrite==='everyone'?'Все':privacyWrite==='contacts'?'Контакты':'Никто'})]}),/*#__PURE__*/_jsxs(\"select\",{value:privacyWrite,onChange:e=>setPrivacyWrite(e.target.value),style:{border:'none',background:'transparent',color:theme.accent,fontSize:15,cursor:'pointer'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"everyone\",children:\"\\u0412\\u0441\\u0435\"}),/*#__PURE__*/_jsx(\"option\",{value:\"contacts\",children:\"\\u041A\\u043E\\u043D\\u0442\\u0430\\u043A\\u0442\\u044B\"}),/*#__PURE__*/_jsx(\"option\",{value:\"nobody\",children:\"\\u041D\\u0438\\u043A\\u0442\\u043E\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:base.row,children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{style:base.rowLabel,children:\"\\u041A\\u0442\\u043E \\u0432\\u0438\\u0434\\u0438\\u0442 \\u0441\\u0442\\u0430\\u0442\\u0443\\u0441\"})}),/*#__PURE__*/_jsxs(\"select\",{value:privacyStatus,onChange:e=>setPrivacyStatus(e.target.value),style:{border:'none',background:'transparent',color:theme.accent,fontSize:15,cursor:'pointer'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"everyone\",children:\"\\u0412\\u0441\\u0435\"}),/*#__PURE__*/_jsx(\"option\",{value:\"contacts\",children:\"\\u041A\\u043E\\u043D\\u0442\\u0430\\u043A\\u0442\\u044B\"}),/*#__PURE__*/_jsx(\"option\",{value:\"nobody\",children:\"\\u041D\\u0438\\u043A\\u0442\\u043E\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:base.row,children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{style:base.rowLabel,children:\"\\u041A\\u0442\\u043E \\u0432\\u0438\\u0434\\u0438\\u0442 \\u0438\\u0441\\u0442\\u043E\\u0440\\u0438\\u0438\"})}),/*#__PURE__*/_jsxs(\"select\",{value:privacyStories,onChange:e=>setPrivacyStories(e.target.value),style:{border:'none',background:'transparent',color:theme.accent,fontSize:15,cursor:'pointer'},children:[/*#__PURE__*/_jsx(\"option\",{value:\"everyone\",children:\"\\u0412\\u0441\\u0435\"}),/*#__PURE__*/_jsx(\"option\",{value:\"contacts\",children:\"\\u041A\\u043E\\u043D\\u0442\\u0430\\u043A\\u0442\\u044B\"}),/*#__PURE__*/_jsx(\"option\",{value:\"nobody\",children:\"\\u041D\\u0438\\u043A\\u0442\\u043E\"})]})]})]}),view==='appearance'&&/*#__PURE__*/_jsxs(\"div\",{style:{padding:16},children:[/*#__PURE__*/_jsx(\"div\",{style:base.sectionTitle,children:\"\\u0422\\u0435\\u043C\\u0430\"}),themeList.map(t=>/*#__PURE__*/_jsxs(\"div\",{style:base.row,onClick:()=>setThemeId(t.id),children:[/*#__PURE__*/_jsx(\"span\",{style:base.rowLabel,children:t.label}),themeId===t.id&&/*#__PURE__*/_jsx(\"span\",{style:{color:theme.accent,fontSize:14},children:\"\\u2713\"})]},t.id)),/*#__PURE__*/_jsx(\"div\",{style:base.sectionTitle,children:\"\\u0424\\u043E\\u043D \\u0447\\u0430\\u0442\\u043E\\u0432 \\u0438 \\u043A\\u0430\\u043D\\u0430\\u043B\\u043E\\u0432\"}),(chatBgPresets||[]).map(p=>/*#__PURE__*/_jsxs(\"div\",{style:base.row,onClick:()=>{setChatBg(p.value);setCustomChatBg('');},children:[/*#__PURE__*/_jsx(\"span\",{style:base.rowLabel,children:p.name}),(chatBg===p.value||!chatBg&&p.id==='default')&&/*#__PURE__*/_jsx(\"span\",{style:{color:theme.accent,fontSize:14},children:\"\\u2713\"})]},p.id)),/*#__PURE__*/_jsxs(\"div\",{style:_objectSpread(_objectSpread({},base.row),{},{flexDirection:'column',alignItems:'stretch',gap:8}),children:[/*#__PURE__*/_jsx(\"span\",{style:base.rowLabel,children:\"\\u0421\\u0432\\u043E\\u0439 \\u0444\\u043E\\u043D (URL \\u043A\\u0430\\u0440\\u0442\\u0438\\u043D\\u043A\\u0438 \\u0438\\u043B\\u0438 CSS)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"https://\\u2026 \\u0438\\u043B\\u0438 linear-gradient(...)\",value:customChatBg||(chatBg&&!(chatBgPresets||[]).some(p=>p.value===chatBg)?chatBg:''),onChange:e=>setCustomChatBg(e.target.value),onBlur:()=>customChatBg.trim()&&setChatBg(customChatBg.trim()),style:{padding:'10px 14px',borderRadius:8,border:\"1px solid \".concat(theme.border),background:theme.inputBg,color:theme.text,fontSize:14,outline:'none'}})]})]}),view==='folders'&&/*#__PURE__*/_jsx(FoldersView,{theme:theme,base:base,onBack:()=>setView('main')}),view==='e2e'&&/*#__PURE__*/_jsx(E2ESetup,{onClose:()=>setView('main')}),view==='qr'&&/*#__PURE__*/_jsxs(\"div\",{style:{padding:16,display:'flex',flexDirection:'column',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"div\",{style:base.rowLabel,children:\"\\u041C\\u043E\\u0439 QR \\u0434\\u043B\\u044F \\u043A\\u043E\\u043D\\u0442\\u0430\\u043A\\u0442\\u043E\\u0432\"}),/*#__PURE__*/_jsx(\"div\",{style:{padding:16,background:'#fff',borderRadius:12,marginTop:12},children:/*#__PURE__*/_jsx(QRCodeSVG,{value:username?\"\".concat(APP_DOMAIN,\"/add/\").concat(username):\"\".concat(APP_DOMAIN,\"/me\"),size:200,level:\"M\"})})]})]});}return/*#__PURE__*/_jsxs(\"div\",{style:base.container,children:[/*#__PURE__*/_jsx(\"header\",{style:base.header,children:/*#__PURE__*/_jsx(\"span\",{style:base.headerTitle,children:\"\\u041D\\u0430\\u0441\\u0442\\u0440\\u043E\\u0439\\u043A\\u0438\"})}),/*#__PURE__*/_jsxs(\"div\",{style:base.profileCard,children:[/*#__PURE__*/_jsxs(\"label\",{style:base.avatarWrap,children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",style:{display:'none'},onChange:onPhotoChange}),profilePhoto?/*#__PURE__*/_jsx(\"img\",{src:profilePhoto,alt:\"\",style:base.avatarImg}):/*#__PURE__*/_jsx(\"div\",{style:base.avatarPlaceholder,children:/*#__PURE__*/_jsx(IconCamera,{width:40,height:40})})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",style:base.nameInput,placeholder:\"\\u0418\\u043C\\u044F\",value:displayName,onChange:e=>setDisplayName(e.target.value),maxLength:64}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",style:_objectSpread(_objectSpread({},base.usernameInput),usernameError?{borderColor:'#e53935'}:{}),placeholder:\"\\u041D\\u0438\\u043A \\u0434\\u043B\\u044F \\u043F\\u043E\\u0438\\u0441\\u043A\\u0430 (@\\u043D\\u0438\\u043A)\",value:username?\"@\".concat(username):'',onChange:e=>setUsername(e.target.value),maxLength:33}),usernameError&&/*#__PURE__*/_jsx(\"span\",{style:{fontSize:12,color:'#e53935'},children:usernameError})]}),/*#__PURE__*/_jsx(\"div\",{style:base.sectionTitle,children:\"\\u041D\\u0430\\u0441\\u0442\\u0440\\u043E\\u0439\\u043A\\u0438\"}),SECTIONS.map(s=>/*#__PURE__*/_jsxs(\"div\",{style:base.row,onClick:()=>setView(s.id),children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',alignItems:'center',gap:12},children:[s.icon&&/*#__PURE__*/_jsx(s.icon,{width:20,height:20,style:{color:theme.textMuted}}),/*#__PURE__*/_jsx(\"span\",{style:base.rowLabel,children:s.title})]}),/*#__PURE__*/_jsx(IconChevronRight,{width:20,height:20,style:{color:theme.textMuted}})]},s.id)),/*#__PURE__*/_jsx(\"div\",{style:base.sectionTitle,children:\"\\u0410\\u043A\\u043A\\u0430\\u0443\\u043D\\u0442\"}),/*#__PURE__*/_jsx(\"div\",{style:base.logoutRow,onClick:()=>{localStorage.removeItem('aist_token');window.location.assign('/');},children:/*#__PURE__*/_jsx(\"span\",{style:base.logoutText,children:\"\\u0412\\u044B\\u0439\\u0442\\u0438\"})})]});}","map":{"version":3,"names":["React","useMemo","useState","useCallback","QRCodeSVG","useTheme","useUser","requestNotificationPermission","getFolders","addFolder","updateFolder","deleteFolder","IconBack","IconChevronRight","IconCamera","IconLock","E2ESetup","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","SECTIONS","id","title","icon","APP_DOMAIN","FoldersView","_ref","theme","base","onBack","folders","setFolders","editingId","setEditingId","editName","setEditName","refresh","handleAdd","name","window","prompt","trim","handleRename","f","find","x","submitRename","handleDelete","confirm","style","padding","children","sectionTitle","fontSize","color","textMuted","map","_objectSpread","row","flexWrap","gap","value","onChange","e","target","onBlur","onKeyDown","key","autoFocus","flex","minWidth","borderRadius","border","concat","background","inputBg","text","outline","type","accent","accentText","cursor","onClick","rowLabel","chatIds","length","marginTop","fontWeight","width","Settings","themeId","setThemeId","themeList","chatBg","setChatBg","chatBgPresets","displayName","username","usernameFormatted","usernameError","setDisplayName","setUsername","setProfilePhoto","profilePhoto","view","setView","notifications","setNotifications","localStorage","getItem","privacyWrite","setPrivacyWrite","privacyStatus","setPrivacyStatus","privacyStories","setPrivacyStories","customChatBg","setCustomChatBg","saveNotifications","v","perm","setItem","_unused","onPhotoChange","_e$target$files","files","startsWith","r","FileReader","onload","result","readAsDataURL","container","height","overflowY","pageBg","header","display","alignItems","borderBottom","headerBg","backBtn","headerTitle","letterSpacing","profileCard","flexDirection","avatarWrap","overflow","sidebarBg","position","avatarImg","objectFit","avatarPlaceholder","justifyContent","nameInput","maxWidth","textAlign","usernameInput","cardBg","rowSub","toggle","flexShrink","toggleThumb","top","left","transition","boxShadow","textTransform","logoutRow","logoutText","_SECTIONS$find","s","t","label","p","placeholder","some","onClose","size","level","accept","src","alt","maxLength","borderColor","removeItem","location","assign"],"sources":["C:/Users/Vladislav/Documents/GitHub/aist-messenger/src/components/Settings.jsx"],"sourcesContent":["import React, { useMemo, useState, useCallback } from 'react';\r\nimport { QRCodeSVG } from 'qrcode.react';\r\nimport { useTheme } from '../context/ThemeContext';\r\nimport { useUser } from '../context/UserContext';\r\nimport { requestNotificationPermission } from '../lib/notifications';\r\nimport { getFolders, addFolder, updateFolder, deleteFolder } from '../lib/folderStorage';\r\nimport { IconBack, IconChevronRight, IconCamera, IconLock } from './Icons';\r\nimport E2ESetup from './E2ESetup';\r\n\r\nconst SECTIONS = [\r\n  { id: 'notifications', title: 'Уведомления' },\r\n  { id: 'privacy', title: 'Конфиденциальность' },\r\n  { id: 'e2e', title: 'Шифрование (E2E)', icon: IconLock },\r\n  { id: 'appearance', title: 'Внешний вид' },\r\n  { id: 'folders', title: 'Папки чатов' },\r\n  { id: 'qr', title: 'QR-код' },\r\n];\r\n\r\nconst APP_DOMAIN = 'https://aist-messenger.vercel.app';\r\n\r\nfunction FoldersView({ theme, base, onBack }) {\r\n  const [folders, setFolders] = useState(getFolders());\r\n  const [editingId, setEditingId] = useState(null);\r\n  const [editName, setEditName] = useState('');\r\n\r\n  const refresh = useCallback(() => setFolders(getFolders()), []);\r\n\r\n  const handleAdd = () => {\r\n    const name = window.prompt('Название папки');\r\n    if (name?.trim()) {\r\n      addFolder(name.trim());\r\n      refresh();\r\n    }\r\n  };\r\n\r\n  const handleRename = (id) => {\r\n    const f = folders.find((x) => x.id === id);\r\n    if (!f) return;\r\n    setEditingId(id);\r\n    setEditName(f.name);\r\n  };\r\n\r\n  const submitRename = () => {\r\n    if (editingId && editName.trim()) {\r\n      updateFolder(editingId, { name: editName.trim() });\r\n      refresh();\r\n    }\r\n    setEditingId(null);\r\n    setEditName('');\r\n  };\r\n\r\n  const handleDelete = (id) => {\r\n    if (window.confirm('Удалить папку? Чаты из неё не удалятся.')) {\r\n      deleteFolder(id);\r\n      refresh();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ padding: 16 }}>\r\n      <div style={base.sectionTitle}>Папки для сортировки чатов</div>\r\n      <p style={{ fontSize: 14, color: theme.textMuted, padding: '0 16px 12px' }}>Создайте папки и добавляйте чаты в них кнопкой ⋯ в списке чатов.</p>\r\n      {folders.map((f) => (\r\n        <div key={f.id} style={{ ...base.row, flexWrap: 'wrap', gap: 8 }}>\r\n          {editingId === f.id ? (\r\n            <>\r\n              <input\r\n                value={editName}\r\n                onChange={(e) => setEditName(e.target.value)}\r\n                onBlur={submitRename}\r\n                onKeyDown={(e) => e.key === 'Enter' && submitRename()}\r\n                autoFocus\r\n                style={{ flex: 1, minWidth: 120, padding: '8px 12px', borderRadius: 8, border: `1px solid ${theme.border}`, background: theme.inputBg, color: theme.text, fontSize: 15, outline: 'none' }}\r\n              />\r\n              <button type=\"button\" style={{ padding: '6px 12px', borderRadius: 8, border: 'none', background: theme.accent, color: theme.accentText || '#fff', cursor: 'pointer' }} onClick={submitRename}>Готово</button>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <span style={base.rowLabel}>{f.name}</span>\r\n              <span style={{ fontSize: 13, color: theme.textMuted }}>{(f.chatIds || []).length} чатов</span>\r\n              <button type=\"button\" style={{ padding: 6, border: 'none', background: 'transparent', color: theme.accent, cursor: 'pointer', fontSize: 13 }} onClick={() => handleRename(f.id)}>Переименовать</button>\r\n              <button type=\"button\" style={{ padding: 6, border: 'none', background: 'transparent', color: '#e53935', cursor: 'pointer', fontSize: 13 }} onClick={() => handleDelete(f.id)}>Удалить</button>\r\n            </>\r\n          )}\r\n        </div>\r\n      ))}\r\n      <button type=\"button\" style={{ marginTop: 12, padding: '12px 16px', borderRadius: 12, border: `2px dashed ${theme.border}`, background: 'transparent', color: theme.accent, fontSize: 15, fontWeight: 500, cursor: 'pointer', width: '100%' }} onClick={handleAdd}>+ Создать папку</button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default function Settings() {\r\n  const { theme, themeId, setThemeId, themeList, chatBg, setChatBg, chatBgPresets } = useTheme();\r\n  const { displayName, username, usernameFormatted, usernameError, setDisplayName, setUsername, setProfilePhoto, profilePhoto } = useUser();\r\n  const [view, setView] = useState('main');\r\n  const [notifications, setNotifications] = useState(() => localStorage.getItem('aist_notifications') !== 'false');\r\n  const [privacyWrite, setPrivacyWrite] = useState('everyone');\r\n  const [privacyStatus, setPrivacyStatus] = useState('everyone');\r\n  const [privacyStories, setPrivacyStories] = useState('contacts');\r\n  const [customChatBg, setCustomChatBg] = useState('');\r\n\r\n  const saveNotifications = async (v) => {\r\n    if (v) {\r\n      const perm = await requestNotificationPermission();\r\n      if (perm !== 'granted') v = false;\r\n    }\r\n    setNotifications(v);\r\n    try { localStorage.setItem('aist_notifications', v ? 'true' : 'false'); } catch {}\r\n  };\r\n\r\n  const onPhotoChange = (e) => {\r\n    const f = e.target.files?.[0];\r\n    if (!f?.type.startsWith('image/')) return;\r\n    const r = new FileReader();\r\n    r.onload = () => setProfilePhoto(r.result);\r\n    r.readAsDataURL(f);\r\n  };\r\n\r\n  const base = {\r\n    container: { height: '100%', overflowY: 'auto', background: theme.pageBg, color: theme.text },\r\n    header: { height: 56, padding: '0 8px', display: 'flex', alignItems: 'center', gap: 8, borderBottom: `1px solid ${theme.border}`, background: theme.headerBg },\r\n    backBtn: { border: 'none', background: 'transparent', color: theme.accent, padding: 8, cursor: 'pointer' },\r\n    headerTitle: { flex: 1, fontSize: 17, fontWeight: 600, letterSpacing: -0.2 },\r\n    profileCard: { padding: 28, display: 'flex', flexDirection: 'column', alignItems: 'center', gap: 18, borderBottom: `1px solid ${theme.border}` },\r\n    avatarWrap: { width: 96, height: 96, borderRadius: '50%', overflow: 'hidden', background: theme.sidebarBg || 'rgba(0,0,0,.06)', position: 'relative', cursor: 'pointer' },\r\n    avatarImg: { width: '100%', height: '100%', objectFit: 'cover' },\r\n    avatarPlaceholder: { width: '100%', height: '100%', display: 'flex', alignItems: 'center', justifyContent: 'center', color: theme.textMuted },\r\n    nameInput: { padding: '10px 14px', borderRadius: 8, border: `1px solid ${theme.border}`, background: theme.inputBg, color: theme.text, fontSize: 16, width: '100%', maxWidth: 280, outline: 'none', textAlign: 'center' },\r\n    usernameInput: { padding: '10px 14px', borderRadius: 8, border: `1px solid ${theme.border}`, background: theme.inputBg, color: theme.text, fontSize: 15, width: '100%', maxWidth: 280, outline: 'none', textAlign: 'center' },\r\n    row: { display: 'flex', alignItems: 'center', justifyContent: 'space-between', padding: '14px 16px', borderBottom: `1px solid ${theme.border}`, background: theme.cardBg, cursor: 'pointer' },\r\n    rowLabel: { fontSize: 16, color: theme.text },\r\n    rowSub: { fontSize: 14, color: theme.textMuted, marginTop: 2 },\r\n    toggle: { width: 50, height: 28, borderRadius: 14, background: notifications ? theme.accent : theme.sidebarBg, position: 'relative', cursor: 'pointer', flexShrink: 0 },\r\n    toggleThumb: { width: 24, height: 24, borderRadius: '50%', background: '#fff', position: 'absolute', top: 2, left: notifications ? 24 : 2, transition: 'left 0.15s', boxShadow: '0 1px 3px rgba(0,0,0,.2)' },\r\n    sectionTitle: { padding: '14px 16px 6px', fontSize: 13, color: theme.textMuted, textTransform: 'uppercase', letterSpacing: 0.5, fontWeight: 600 },\r\n    logoutRow: { padding: 14, borderBottom: `1px solid ${theme.border}`, background: theme.cardBg, cursor: 'pointer' },\r\n    logoutText: { fontSize: 16, color: '#e53935', fontWeight: 500 },\r\n  };\r\n\r\n  if (view !== 'main') {\r\n    return (\r\n      <div style={base.container}>\r\n        <header style={base.header}>\r\n          <button type=\"button\" style={base.backBtn} onClick={() => setView('main')}><IconBack width={24} height={24} /></button>\r\n          <span style={base.headerTitle}>{SECTIONS.find((s) => s.id === view)?.title || view}</span>\r\n        </header>\r\n        {view === 'notifications' && (\r\n          <div style={{ padding: 16 }}>\r\n            <div style={base.row}>\r\n              <span style={base.rowLabel}>Уведомления</span>\r\n              <div style={base.toggle} onClick={() => saveNotifications(!notifications)}><div style={base.toggleThumb} /></div>\r\n            </div>\r\n          </div>\r\n        )}\r\n        {view === 'privacy' && (\r\n          <div style={{ padding: 16 }}>\r\n            <div style={base.row}>\r\n              <div><div style={base.rowLabel}>Кто может писать</div><div style={base.rowSub}>{privacyWrite === 'everyone' ? 'Все' : privacyWrite === 'contacts' ? 'Контакты' : 'Никто'}</div></div>\r\n              <select value={privacyWrite} onChange={(e) => setPrivacyWrite(e.target.value)} style={{ border: 'none', background: 'transparent', color: theme.accent, fontSize: 15, cursor: 'pointer' }}>\r\n                <option value=\"everyone\">Все</option><option value=\"contacts\">Контакты</option><option value=\"nobody\">Никто</option>\r\n              </select>\r\n            </div>\r\n            <div style={base.row}>\r\n              <div><div style={base.rowLabel}>Кто видит статус</div></div>\r\n              <select value={privacyStatus} onChange={(e) => setPrivacyStatus(e.target.value)} style={{ border: 'none', background: 'transparent', color: theme.accent, fontSize: 15, cursor: 'pointer' }}>\r\n                <option value=\"everyone\">Все</option><option value=\"contacts\">Контакты</option><option value=\"nobody\">Никто</option>\r\n              </select>\r\n            </div>\r\n            <div style={base.row}>\r\n              <div><div style={base.rowLabel}>Кто видит истории</div></div>\r\n              <select value={privacyStories} onChange={(e) => setPrivacyStories(e.target.value)} style={{ border: 'none', background: 'transparent', color: theme.accent, fontSize: 15, cursor: 'pointer' }}>\r\n                <option value=\"everyone\">Все</option><option value=\"contacts\">Контакты</option><option value=\"nobody\">Никто</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n        )}\r\n        {view === 'appearance' && (\r\n          <div style={{ padding: 16 }}>\r\n            <div style={base.sectionTitle}>Тема</div>\r\n            {themeList.map((t) => (\r\n              <div key={t.id} style={base.row} onClick={() => setThemeId(t.id)}>\r\n                <span style={base.rowLabel}>{t.label}</span>\r\n                {themeId === t.id && <span style={{ color: theme.accent, fontSize: 14 }}>✓</span>}\r\n              </div>\r\n            ))}\r\n            <div style={base.sectionTitle}>Фон чатов и каналов</div>\r\n            {(chatBgPresets || []).map((p) => (\r\n              <div key={p.id} style={base.row} onClick={() => { setChatBg(p.value); setCustomChatBg(''); }}>\r\n                <span style={base.rowLabel}>{p.name}</span>\r\n                {(chatBg === p.value || (!chatBg && p.id === 'default')) && <span style={{ color: theme.accent, fontSize: 14 }}>✓</span>}\r\n              </div>\r\n            ))}\r\n            <div style={{ ...base.row, flexDirection: 'column', alignItems: 'stretch', gap: 8 }}>\r\n              <span style={base.rowLabel}>Свой фон (URL картинки или CSS)</span>\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"https://… или linear-gradient(...)\"\r\n                value={customChatBg || (chatBg && !(chatBgPresets || []).some((p) => p.value === chatBg) ? chatBg : '')}\r\n                onChange={(e) => setCustomChatBg(e.target.value)}\r\n                onBlur={() => customChatBg.trim() && setChatBg(customChatBg.trim())}\r\n                style={{ padding: '10px 14px', borderRadius: 8, border: `1px solid ${theme.border}`, background: theme.inputBg, color: theme.text, fontSize: 14, outline: 'none' }}\r\n              />\r\n            </div>\r\n          </div>\r\n        )}\r\n        {view === 'folders' && (\r\n          <FoldersView theme={theme} base={base} onBack={() => setView('main')} />\r\n        )}\r\n        {view === 'e2e' && (\r\n          <E2ESetup onClose={() => setView('main')} />\r\n        )}\r\n        {view === 'qr' && (\r\n          <div style={{ padding: 16, display: 'flex', flexDirection: 'column', alignItems: 'center' }}>\r\n            <div style={base.rowLabel}>Мой QR для контактов</div>\r\n            <div style={{ padding: 16, background: '#fff', borderRadius: 12, marginTop: 12 }}>\r\n              <QRCodeSVG value={username ? `${APP_DOMAIN}/add/${username}` : `${APP_DOMAIN}/me`} size={200} level=\"M\" />\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div style={base.container}>\r\n      <header style={base.header}>\r\n        <span style={base.headerTitle}>Настройки</span>\r\n      </header>\r\n      <div style={base.profileCard}>\r\n        <label style={base.avatarWrap}>\r\n          <input type=\"file\" accept=\"image/*\" style={{ display: 'none' }} onChange={onPhotoChange} />\r\n          {profilePhoto ? <img src={profilePhoto} alt=\"\" style={base.avatarImg} /> : <div style={base.avatarPlaceholder}><IconCamera width={40} height={40} /></div>}\r\n        </label>\r\n        <input type=\"text\" style={base.nameInput} placeholder=\"Имя\" value={displayName} onChange={(e) => setDisplayName(e.target.value)} maxLength={64} />\r\n        <input type=\"text\" style={{ ...base.usernameInput, ...(usernameError ? { borderColor: '#e53935' } : {}) }} placeholder=\"Ник для поиска (@ник)\" value={username ? `@${username}` : ''} onChange={(e) => setUsername(e.target.value)} maxLength={33} />\r\n        {usernameError && <span style={{ fontSize: 12, color: '#e53935' }}>{usernameError}</span>}\r\n      </div>\r\n      <div style={base.sectionTitle}>Настройки</div>\r\n      {SECTIONS.map((s) => (\r\n        <div key={s.id} style={base.row} onClick={() => setView(s.id)}>\r\n          <div style={{ display: 'flex', alignItems: 'center', gap: 12 }}>\r\n            {s.icon && <s.icon width={20} height={20} style={{ color: theme.textMuted }} />}\r\n            <span style={base.rowLabel}>{s.title}</span>\r\n          </div>\r\n          <IconChevronRight width={20} height={20} style={{ color: theme.textMuted }} />\r\n        </div>\r\n      ))}\r\n      <div style={base.sectionTitle}>Аккаунт</div>\r\n      <div style={base.logoutRow} onClick={() => { localStorage.removeItem('aist_token'); window.location.assign('/'); }}>\r\n        <span style={base.logoutText}>Выйти</span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}