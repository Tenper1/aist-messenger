{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Vladislav\\\\Documents\\\\GitHub\\\\aist-messenger\\\\src\\\\context\\\\ThemeContext.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useMemo, useEffect, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst STORAGE_KEY = 'aist_theme';\nconst CHAT_BG_KEY = 'aist_chat_bg';\n\n// Liquid Glass Light - мягкий, чистый, с эффектом стекла\nconst liquidLight = {\n  pageBg: 'linear-gradient(135deg, #e8f4fc 0%, #f0f7ff 25%, #eef5ff 50%, #f5f9ff 75%, #edf7ff 100%)',\n  text: 'rgba(15, 35, 65, .94)',\n  textMuted: 'rgba(80, 100, 130, .75)',\n  cardBg: 'rgba(255, 255, 255, .75)',\n  cardBorder: 'rgba(255, 255, 255, .9)',\n  inputBg: 'rgba(255, 255, 255, .8)',\n  inputBorder: 'rgba(100, 140, 200, .2)',\n  accent: 'linear-gradient(135deg, #0a84ff 0%, #0066cc 50%, #5e5ce6 100%)',\n  accentText: '#ffffff',\n  headerBg: 'rgba(255, 255, 255, .82)',\n  sidebarBg: 'rgba(248, 252, 255, .8)',\n  border: 'rgba(120, 160, 210, .15)',\n  bubbleIn: 'rgba(255, 255, 255, .92)',\n  bubbleOut: 'linear-gradient(135deg, #0a84ff 0%, #0066cc 100%)',\n  tabBarBg: 'rgba(255, 255, 255, .85)',\n  messageInputBg: 'rgba(255, 255, 255, .88)',\n  glassOverlay: 'rgba(255, 255, 255, .4)',\n  glow: 'rgba(10, 132, 255, .3)'\n};\n\n// Liquid Glass Dark - глубокий, с неоновыми акцентами\nconst liquidDark = {\n  pageBg: 'linear-gradient(135deg, #0a0e16 0%, #0f141d 25%, #0c1119 50%, #0e131b 75%, #0a0e14 100%)',\n  text: 'rgba(250, 253, 255, .95)',\n  textMuted: 'rgba(140, 160, 190, .7)',\n  cardBg: 'rgba(20, 28, 40, .78)',\n  cardBorder: 'rgba(255, 255, 255, .06)',\n  inputBg: 'rgba(28, 38, 52, .82)',\n  inputBorder: 'rgba(255, 255, 255, .1)',\n  accent: 'linear-gradient(135deg, #0a84ff 0%, #5e5ce6 100%)',\n  accentText: '#ffffff',\n  headerBg: 'rgba(20, 28, 40, .85)',\n  sidebarBg: 'rgba(16, 22, 32, .85)',\n  border: 'rgba(255, 255, 255, .07)',\n  bubbleIn: 'rgba(32, 42, 58, .82)',\n  bubbleOut: 'linear-gradient(135deg, #0a84ff 0%, #5e5ce6 100%)',\n  tabBarBg: 'rgba(20, 28, 40, .88)',\n  messageInputBg: 'rgba(28, 38, 52, .85)',\n  glassOverlay: 'rgba(30, 40, 55, .4)',\n  glow: 'rgba(10, 132, 255, .25)'\n};\n\n// Midnight Blue - глубокий синий\nconst midnightBlue = {\n  pageBg: 'linear-gradient(135deg, #0a1020 0%, #0d1528 25%, #0b1224 50%, #0e162e 75%, #08101c 100%)',\n  text: 'rgba(235, 248, 255, .95)',\n  textMuted: 'rgba(130, 160, 200, .7)',\n  cardBg: 'rgba(16, 26, 48, .8)',\n  cardBorder: 'rgba(70, 110, 180, .12)',\n  inputBg: 'rgba(24, 38, 62, .82)',\n  inputBorder: 'rgba(90, 130, 200, .18)',\n  accent: 'linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%)',\n  accentText: '#ffffff',\n  headerBg: 'rgba(16, 26, 48, .86)',\n  sidebarBg: 'rgba(12, 20, 38, .86)',\n  border: 'rgba(70, 110, 180, .1)',\n  bubbleIn: 'rgba(26, 42, 68, .82)',\n  bubbleOut: 'linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%)',\n  tabBarBg: 'rgba(16, 26, 48, .88)',\n  messageInputBg: 'rgba(24, 38, 62, .84)',\n  glassOverlay: 'rgba(28, 42, 68, .4)',\n  glow: 'rgba(59, 130, 246, .28)'\n};\n\n// Aurora - северное сияние\nconst aurora = {\n  pageBg: 'linear-gradient(135deg, #0d0820 0%, #1e1a45 25%, #151035 50%, #251f4d 75%, #0a0718 100%)',\n  text: 'rgba(245, 248, 255, .95)',\n  textMuted: 'rgba(165, 175, 210, .7)',\n  cardBg: 'rgba(35, 28, 72, .8)',\n  cardBorder: 'rgba(140, 90, 220, .12)',\n  inputBg: 'rgba(52, 42, 98, .82)',\n  inputBorder: 'rgba(160, 110, 240, .16)',\n  accent: 'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)',\n  accentText: '#ffffff',\n  headerBg: 'rgba(35, 28, 72, .86)',\n  sidebarBg: 'rgba(28, 22, 60, .86)',\n  border: 'rgba(140, 90, 220, .1)',\n  bubbleIn: 'rgba(48, 38, 88, .82)',\n  bubbleOut: 'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)',\n  tabBarBg: 'rgba(35, 28, 72, .88)',\n  messageInputBg: 'rgba(52, 42, 98, .84)',\n  glassOverlay: 'rgba(55, 42, 95, .4)',\n  glow: 'rgba(240, 147, 251, .25)'\n};\n\n// Forest Green - лесной зелёный\nconst forestGreen = {\n  pageBg: 'linear-gradient(135deg, #081a14 0%, #122822 25%, #0a1c16 50%, #142426 75%, #06140f 100%)',\n  text: 'rgba(240, 255, 250, .95)',\n  textMuted: 'rgba(115, 185, 165, .7)',\n  cardBg: 'rgba(18, 42, 36, .8)',\n  cardBorder: 'rgba(55, 155, 125, .12)',\n  inputBg: 'rgba(30, 62, 52, .82)',\n  inputBorder: 'rgba(75, 175, 145, .16)',\n  accent: 'linear-gradient(135deg, #10b981 0%, #059669 100%)',\n  accentText: '#ffffff',\n  headerBg: 'rgba(18, 42, 36, .86)',\n  sidebarBg: 'rgba(14, 32, 28, .86)',\n  border: 'rgba(55, 155, 125, .1)',\n  bubbleIn: 'rgba(28, 60, 50, .82)',\n  bubbleOut: 'linear-gradient(135deg, #10b981 0%, #059669 100%)',\n  tabBarBg: 'rgba(18, 42, 36, .88)',\n  messageInputBg: 'rgba(30, 62, 52, .84)',\n  glassOverlay: 'rgba(35, 65, 55, .4)',\n  glow: 'rgba(16, 185, 129, .25)'\n};\nconst themes = {\n  system: {\n    id: 'system',\n    label: 'Как в системе'\n  },\n  light: {\n    id: 'light',\n    label: 'Liquid Light',\n    ...liquidLight\n  },\n  dark: {\n    id: 'dark',\n    label: 'Liquid Dark',\n    ...liquidDark\n  },\n  midnight: {\n    id: 'midnight',\n    label: 'Midnight Blue',\n    ...midnightBlue\n  },\n  aurora: {\n    id: 'aurora',\n    label: 'Aurora',\n    ...aurora\n  },\n  forest: {\n    id: 'forest',\n    label: 'Forest',\n    ...forestGreen\n  }\n};\nconst CHAT_BG_PRESETS = [{\n  id: 'default',\n  name: 'По умолчанию',\n  value: ''\n}, {\n  id: 'gradient1',\n  name: 'Мягкий градиент',\n  value: 'linear-gradient(180deg, rgba(200,230,255,.08) 0%, transparent 60%)'\n}, {\n  id: 'gradient2',\n  name: 'Тёплый закат',\n  value: 'linear-gradient(180deg, rgba(255,200,150,.07) 0%, transparent 60%)'\n}, {\n  id: 'dots',\n  name: 'Точки',\n  value: 'radial-gradient(circle at 1px 1px, rgba(0,0,0,.04) 1px, transparent 0); background-size: 20px 20px'\n}, {\n  id: 'grid',\n  name: 'Сетка',\n  value: 'linear-gradient(rgba(255,255,255,.04) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,.04) 1px, transparent 1px); background-size: 30px 30px'\n}, {\n  id: 'noise',\n  name: 'Шум',\n  value: 'url(\"data:image/svg+xml,%3Csvg viewBox=%220 0 200 200%22 xmlns=%22http://www.w3.org/2000/svg%22%3E%3Cfilter id=%22noise%22%3E%3CfeTurbulence type=%22fractalNoise%22 baseFrequency=%220.65%22 numOctaves=%223%22 stitchTiles=%22stitch%22/%3E%3C/filter%3E%3Crect width=%22100%25%22 height=%22100%25%22 filter=%22url(%23noise)%22 opacity=%220.03%22/%3E%3C/svg%3E\")'\n}];\nconst ThemeContext = /*#__PURE__*/createContext(null);\nexport function ThemeProvider({\n  children\n}) {\n  _s();\n  const [themeId, setThemeIdState] = useState(() => {\n    try {\n      return localStorage.getItem(STORAGE_KEY) || 'dark';\n    } catch {\n      return 'dark';\n    }\n  });\n  const [chatBg, setChatBgState] = useState(() => {\n    try {\n      return localStorage.getItem(CHAT_BG_KEY) || '';\n    } catch {\n      return '';\n    }\n  });\n  const [systemDark, setSystemDark] = useState(() => typeof window !== 'undefined' && window.matchMedia('(prefers-color-scheme: dark)').matches);\n  useEffect(() => {\n    const m = window.matchMedia('(prefers-color-scheme: dark)');\n    const fn = () => setSystemDark(m.matches);\n    m.addEventListener('change', fn);\n    return () => m.removeEventListener('change', fn);\n  }, []);\n  const effectiveId = themeId === 'system' ? systemDark ? 'dark' : 'light' : themeId;\n  const theme = {\n    ...(themes[effectiveId] || themes.light),\n    isDark: effectiveId === 'dark'\n  };\n  useEffect(() => {\n    document.body.style.background = theme.pageBg;\n    document.body.style.color = theme.text;\n  }, [theme.pageBg, theme.text]);\n  const setThemeId = id => {\n    setThemeIdState(id);\n    try {\n      localStorage.setItem(STORAGE_KEY, id);\n    } catch {}\n  };\n  const setChatBg = v => {\n    setChatBgState(v || '');\n    try {\n      if (v) localStorage.setItem(CHAT_BG_KEY, v);else localStorage.removeItem(CHAT_BG_KEY);\n    } catch {}\n  };\n  const themeList = useMemo(() => [{\n    id: 'system',\n    label: 'Как в системе'\n  }, {\n    id: 'light',\n    label: 'Liquid Light'\n  }, {\n    id: 'dark',\n    label: 'Liquid Dark'\n  }, {\n    id: 'midnight',\n    label: 'Midnight Blue'\n  }, {\n    id: 'aurora',\n    label: 'Aurora'\n  }, {\n    id: 'forest',\n    label: 'Forest'\n  }], []);\n  const value = useMemo(() => ({\n    themeId,\n    setThemeId,\n    theme,\n    themeList,\n    isDark: theme.isDark,\n    chatBg,\n    setChatBg,\n    chatBgPresets: CHAT_BG_PRESETS\n  }), [themeId, theme, themeList, chatBg]);\n  return /*#__PURE__*/_jsxDEV(ThemeContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 208,\n    columnNumber: 10\n  }, this);\n}\n_s(ThemeProvider, \"kde6T6NMcoEPkZbfbKkrUbQjeM8=\");\n_c = ThemeProvider;\nexport function useTheme() {\n  _s2();\n  const ctx = useContext(ThemeContext);\n  if (!ctx) throw new Error('useTheme must be used within ThemeProvider');\n  return ctx;\n}\n_s2(useTheme, \"/dMy7t63NXD4eYACoT93CePwGrg=\");\nvar _c;\n$RefreshReg$(_c, \"ThemeProvider\");","map":{"version":3,"names":["React","createContext","useContext","useMemo","useEffect","useState","jsxDEV","_jsxDEV","STORAGE_KEY","CHAT_BG_KEY","liquidLight","pageBg","text","textMuted","cardBg","cardBorder","inputBg","inputBorder","accent","accentText","headerBg","sidebarBg","border","bubbleIn","bubbleOut","tabBarBg","messageInputBg","glassOverlay","glow","liquidDark","midnightBlue","aurora","forestGreen","themes","system","id","label","light","dark","midnight","forest","CHAT_BG_PRESETS","name","value","ThemeContext","ThemeProvider","children","_s","themeId","setThemeIdState","localStorage","getItem","chatBg","setChatBgState","systemDark","setSystemDark","window","matchMedia","matches","m","fn","addEventListener","removeEventListener","effectiveId","theme","isDark","document","body","style","background","color","setThemeId","setItem","setChatBg","v","removeItem","themeList","chatBgPresets","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","useTheme","_s2","ctx","Error","$RefreshReg$"],"sources":["C:/Users/Vladislav/Documents/GitHub/aist-messenger/src/context/ThemeContext.jsx"],"sourcesContent":["import React, { createContext, useContext, useMemo, useEffect, useState } from 'react';\r\n\r\nconst STORAGE_KEY = 'aist_theme';\r\nconst CHAT_BG_KEY = 'aist_chat_bg';\r\n\r\n// Liquid Glass Light - мягкий, чистый, с эффектом стекла\r\nconst liquidLight = {\r\n  pageBg: 'linear-gradient(135deg, #e8f4fc 0%, #f0f7ff 25%, #eef5ff 50%, #f5f9ff 75%, #edf7ff 100%)',\r\n  text: 'rgba(15, 35, 65, .94)',\r\n  textMuted: 'rgba(80, 100, 130, .75)',\r\n  cardBg: 'rgba(255, 255, 255, .75)',\r\n  cardBorder: 'rgba(255, 255, 255, .9)',\r\n  inputBg: 'rgba(255, 255, 255, .8)',\r\n  inputBorder: 'rgba(100, 140, 200, .2)',\r\n  accent: 'linear-gradient(135deg, #0a84ff 0%, #0066cc 50%, #5e5ce6 100%)',\r\n  accentText: '#ffffff',\r\n  headerBg: 'rgba(255, 255, 255, .82)',\r\n  sidebarBg: 'rgba(248, 252, 255, .8)',\r\n  border: 'rgba(120, 160, 210, .15)',\r\n  bubbleIn: 'rgba(255, 255, 255, .92)',\r\n  bubbleOut: 'linear-gradient(135deg, #0a84ff 0%, #0066cc 100%)',\r\n  tabBarBg: 'rgba(255, 255, 255, .85)',\r\n  messageInputBg: 'rgba(255, 255, 255, .88)',\r\n  glassOverlay: 'rgba(255, 255, 255, .4)',\r\n  glow: 'rgba(10, 132, 255, .3)',\r\n};\r\n\r\n// Liquid Glass Dark - глубокий, с неоновыми акцентами\r\nconst liquidDark = {\r\n  pageBg: 'linear-gradient(135deg, #0a0e16 0%, #0f141d 25%, #0c1119 50%, #0e131b 75%, #0a0e14 100%)',\r\n  text: 'rgba(250, 253, 255, .95)',\r\n  textMuted: 'rgba(140, 160, 190, .7)',\r\n  cardBg: 'rgba(20, 28, 40, .78)',\r\n  cardBorder: 'rgba(255, 255, 255, .06)',\r\n  inputBg: 'rgba(28, 38, 52, .82)',\r\n  inputBorder: 'rgba(255, 255, 255, .1)',\r\n  accent: 'linear-gradient(135deg, #0a84ff 0%, #5e5ce6 100%)',\r\n  accentText: '#ffffff',\r\n  headerBg: 'rgba(20, 28, 40, .85)',\r\n  sidebarBg: 'rgba(16, 22, 32, .85)',\r\n  border: 'rgba(255, 255, 255, .07)',\r\n  bubbleIn: 'rgba(32, 42, 58, .82)',\r\n  bubbleOut: 'linear-gradient(135deg, #0a84ff 0%, #5e5ce6 100%)',\r\n  tabBarBg: 'rgba(20, 28, 40, .88)',\r\n  messageInputBg: 'rgba(28, 38, 52, .85)',\r\n  glassOverlay: 'rgba(30, 40, 55, .4)',\r\n  glow: 'rgba(10, 132, 255, .25)',\r\n};\r\n\r\n// Midnight Blue - глубокий синий\r\nconst midnightBlue = {\r\n  pageBg: 'linear-gradient(135deg, #0a1020 0%, #0d1528 25%, #0b1224 50%, #0e162e 75%, #08101c 100%)',\r\n  text: 'rgba(235, 248, 255, .95)',\r\n  textMuted: 'rgba(130, 160, 200, .7)',\r\n  cardBg: 'rgba(16, 26, 48, .8)',\r\n  cardBorder: 'rgba(70, 110, 180, .12)',\r\n  inputBg: 'rgba(24, 38, 62, .82)',\r\n  inputBorder: 'rgba(90, 130, 200, .18)',\r\n  accent: 'linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%)',\r\n  accentText: '#ffffff',\r\n  headerBg: 'rgba(16, 26, 48, .86)',\r\n  sidebarBg: 'rgba(12, 20, 38, .86)',\r\n  border: 'rgba(70, 110, 180, .1)',\r\n  bubbleIn: 'rgba(26, 42, 68, .82)',\r\n  bubbleOut: 'linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%)',\r\n  tabBarBg: 'rgba(16, 26, 48, .88)',\r\n  messageInputBg: 'rgba(24, 38, 62, .84)',\r\n  glassOverlay: 'rgba(28, 42, 68, .4)',\r\n  glow: 'rgba(59, 130, 246, .28)',\r\n};\r\n\r\n// Aurora - северное сияние\r\nconst aurora = {\r\n  pageBg: 'linear-gradient(135deg, #0d0820 0%, #1e1a45 25%, #151035 50%, #251f4d 75%, #0a0718 100%)',\r\n  text: 'rgba(245, 248, 255, .95)',\r\n  textMuted: 'rgba(165, 175, 210, .7)',\r\n  cardBg: 'rgba(35, 28, 72, .8)',\r\n  cardBorder: 'rgba(140, 90, 220, .12)',\r\n  inputBg: 'rgba(52, 42, 98, .82)',\r\n  inputBorder: 'rgba(160, 110, 240, .16)',\r\n  accent: 'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)',\r\n  accentText: '#ffffff',\r\n  headerBg: 'rgba(35, 28, 72, .86)',\r\n  sidebarBg: 'rgba(28, 22, 60, .86)',\r\n  border: 'rgba(140, 90, 220, .1)',\r\n  bubbleIn: 'rgba(48, 38, 88, .82)',\r\n  bubbleOut: 'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)',\r\n  tabBarBg: 'rgba(35, 28, 72, .88)',\r\n  messageInputBg: 'rgba(52, 42, 98, .84)',\r\n  glassOverlay: 'rgba(55, 42, 95, .4)',\r\n  glow: 'rgba(240, 147, 251, .25)',\r\n};\r\n\r\n// Forest Green - лесной зелёный\r\nconst forestGreen = {\r\n  pageBg: 'linear-gradient(135deg, #081a14 0%, #122822 25%, #0a1c16 50%, #142426 75%, #06140f 100%)',\r\n  text: 'rgba(240, 255, 250, .95)',\r\n  textMuted: 'rgba(115, 185, 165, .7)',\r\n  cardBg: 'rgba(18, 42, 36, .8)',\r\n  cardBorder: 'rgba(55, 155, 125, .12)',\r\n  inputBg: 'rgba(30, 62, 52, .82)',\r\n  inputBorder: 'rgba(75, 175, 145, .16)',\r\n  accent: 'linear-gradient(135deg, #10b981 0%, #059669 100%)',\r\n  accentText: '#ffffff',\r\n  headerBg: 'rgba(18, 42, 36, .86)',\r\n  sidebarBg: 'rgba(14, 32, 28, .86)',\r\n  border: 'rgba(55, 155, 125, .1)',\r\n  bubbleIn: 'rgba(28, 60, 50, .82)',\r\n  bubbleOut: 'linear-gradient(135deg, #10b981 0%, #059669 100%)',\r\n  tabBarBg: 'rgba(18, 42, 36, .88)',\r\n  messageInputBg: 'rgba(30, 62, 52, .84)',\r\n  glassOverlay: 'rgba(35, 65, 55, .4)',\r\n  glow: 'rgba(16, 185, 129, .25)',\r\n};\r\n\r\nconst themes = {\r\n  system: { id: 'system', label: 'Как в системе' },\r\n  light: { id: 'light', label: 'Liquid Light', ...liquidLight },\r\n  dark: { id: 'dark', label: 'Liquid Dark', ...liquidDark },\r\n  midnight: { id: 'midnight', label: 'Midnight Blue', ...midnightBlue },\r\n  aurora: { id: 'aurora', label: 'Aurora', ...aurora },\r\n  forest: { id: 'forest', label: 'Forest', ...forestGreen },\r\n};\r\n\r\nconst CHAT_BG_PRESETS = [\r\n  { id: 'default', name: 'По умолчанию', value: '' },\r\n  { id: 'gradient1', name: 'Мягкий градиент', value: 'linear-gradient(180deg, rgba(200,230,255,.08) 0%, transparent 60%)' },\r\n  { id: 'gradient2', name: 'Тёплый закат', value: 'linear-gradient(180deg, rgba(255,200,150,.07) 0%, transparent 60%)' },\r\n  { id: 'dots', name: 'Точки', value: 'radial-gradient(circle at 1px 1px, rgba(0,0,0,.04) 1px, transparent 0); background-size: 20px 20px' },\r\n  { id: 'grid', name: 'Сетка', value: 'linear-gradient(rgba(255,255,255,.04) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,.04) 1px, transparent 1px); background-size: 30px 30px' },\r\n  { id: 'noise', name: 'Шум', value: 'url(\"data:image/svg+xml,%3Csvg viewBox=%220 0 200 200%22 xmlns=%22http://www.w3.org/2000/svg%22%3E%3Cfilter id=%22noise%22%3E%3CfeTurbulence type=%22fractalNoise%22 baseFrequency=%220.65%22 numOctaves=%223%22 stitchTiles=%22stitch%22/%3E%3C/filter%3E%3Crect width=%22100%25%22 height=%22100%25%22 filter=%22url(%23noise)%22 opacity=%220.03%22/%3E%3C/svg%3E\")' },\r\n];\r\n\r\nconst ThemeContext = createContext(null);\r\n\r\nexport function ThemeProvider({ children }) {\r\n  const [themeId, setThemeIdState] = useState(() => {\r\n    try {\r\n      return localStorage.getItem(STORAGE_KEY) || 'dark';\r\n    } catch {\r\n      return 'dark';\r\n    }\r\n  });\r\n  const [chatBg, setChatBgState] = useState(() => {\r\n    try {\r\n      return localStorage.getItem(CHAT_BG_KEY) || '';\r\n    } catch {\r\n      return '';\r\n    }\r\n  });\r\n  const [systemDark, setSystemDark] = useState(() =>\r\n    typeof window !== 'undefined' && window.matchMedia('(prefers-color-scheme: dark)').matches\r\n  );\r\n\r\n  useEffect(() => {\r\n    const m = window.matchMedia('(prefers-color-scheme: dark)');\r\n    const fn = () => setSystemDark(m.matches);\r\n    m.addEventListener('change', fn);\r\n    return () => m.removeEventListener('change', fn);\r\n  }, []);\r\n\r\n  const effectiveId = themeId === 'system' ? (systemDark ? 'dark' : 'light') : themeId;\r\n  const theme = { ...(themes[effectiveId] || themes.light), isDark: effectiveId === 'dark' };\r\n\r\n  useEffect(() => {\r\n    document.body.style.background = theme.pageBg;\r\n    document.body.style.color = theme.text;\r\n  }, [theme.pageBg, theme.text]);\r\n\r\n  const setThemeId = (id) => {\r\n    setThemeIdState(id);\r\n    try {\r\n      localStorage.setItem(STORAGE_KEY, id);\r\n    } catch {}\r\n  };\r\n\r\n  const setChatBg = (v) => {\r\n    setChatBgState(v || '');\r\n    try {\r\n      if (v) localStorage.setItem(CHAT_BG_KEY, v);\r\n      else localStorage.removeItem(CHAT_BG_KEY);\r\n    } catch {}\r\n  };\r\n\r\n  const themeList = useMemo(() => [\r\n    { id: 'system', label: 'Как в системе' },\r\n    { id: 'light', label: 'Liquid Light' },\r\n    { id: 'dark', label: 'Liquid Dark' },\r\n    { id: 'midnight', label: 'Midnight Blue' },\r\n    { id: 'aurora', label: 'Aurora' },\r\n    { id: 'forest', label: 'Forest' },\r\n  ], []);\r\n\r\n  const value = useMemo(\r\n    () => ({\r\n      themeId,\r\n      setThemeId,\r\n      theme,\r\n      themeList,\r\n      isDark: theme.isDark,\r\n      chatBg,\r\n      setChatBg,\r\n      chatBgPresets: CHAT_BG_PRESETS,\r\n    }),\r\n    [themeId, theme, themeList, chatBg]\r\n  );\r\n\r\n  return <ThemeContext.Provider value={value}>{children}</ThemeContext.Provider>;\r\n}\r\n\r\nexport function useTheme() {\r\n  const ctx = useContext(ThemeContext);\r\n  if (!ctx) throw new Error('useTheme must be used within ThemeProvider');\r\n  return ctx;\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}